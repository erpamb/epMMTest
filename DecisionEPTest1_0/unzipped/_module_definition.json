{"scope":"PUBLIC","source":"\n\n  DS2_OPTIONS LOGICALEXPR = STANDARD;\n  DS2_OPTIONS SCOND = WARNING;\n  DS2_OPTIONS MISSING_NOTE;\n\n                                                                                   \n                     \n  package DecisionEPTest1_0  / inline;\n    dcl package logger logr_perf('App.tk.SID.Perf');\n    dcl double timer_start;\n    dcl double elapsed_time;\n    dcl double total_timer_start;\n    dcl double total_elapsed_time;\n    dcl package logger logr_error('App.tk.SID.Error');\n\n    dcl package \"DecisionEPTest_QS_Tree1u32u401u41u32EP\" \"DecisionEPTest_QS_Tree1u32u401u41u32EP_hdl\"();\n\n     method init();\n\n     end;\n\n    method execute_internal(\n       double \"BAD\"\n      ,double \"CLAGE\"\n      ,double \"CLNO\"\n      ,double \"DEBTINC\"\n      ,double \"DELINQ\"\n      ,double \"DEROG\"\n      ,varchar(7) \"JOB\"\n      ,double \"LOAN\"\n      ,double \"MORTDUE\"\n      ,double \"NINQ\"\n      ,varchar(7) \"REASON\"\n      ,double \"VALUE\"\n      ,double \"YOJ\"\n      ,in_out varchar \"EM_CLASSIFICATION\"\n      ,in_out double \"EM_EVENTPROBABILITY\"\n      ,in_out double \"EM_PROBABILITY\"\n      ,in_out varchar \"I_BAD\"\n      ,in_out double \"P_BAD0\"\n      ,in_out double \"P_BAD1\"\n\n      ,in_out integer \"_filter_\"\n\n    );\n        dcl integer dg_filter_;\n\n       dcl integer _masRC;\n\n       dcl integer _sidLogStatus;\n       dcl varchar(3000) _sidLogErrorMsg;\n\n        total_timer_start = datetime();\n\n        timer_start = datetime();\n        \"DecisionEPTest_QS_Tree1u32u401u41u32EP_hdl\".score(\"CLAGE\", \"CLNO\", \"DEBTINC\", \"DELINQ\", \"DEROG\", \"JOB\", \"NINQ\", \"VALUE\", \"EM_CLASSIFICATION\", \"EM_EVENTPROBABILITY\", \"EM_PROBABILITY\", \"I_BAD\", \"P_BAD0\", \"P_BAD1\");\n\n        elapsed_time = datetime() - timer_start;\n        logr_perf.log( 'd', 'Package Name: DecisionEPTest1_0, Node Name: QS_Tree1 (1) EP, Node ID: 857e1d96-c275-4a85-8c3c-aab8a72e3965, NODE DURATION: ' .. elapsed_time);\n\n              ;\n\n        \"end\":                                            \n\n        total_elapsed_time = datetime() - total_timer_start;\n        logr_perf.log( 'd', 'Package Name: DecisionEPTest1_0, TOTAL DURATION: ' .. total_elapsed_time);\n\n     end;\n\n    method execute(\n       double \"BAD_\"\n      ,double \"CLAGE_\"\n      ,double \"CLNO_\"\n      ,double \"DEBTINC_\"\n      ,double \"DELINQ_\"\n      ,double \"DEROG_\"\n      ,varchar(7) \"JOB_\"\n      ,double \"LOAN_\"\n      ,double \"MORTDUE_\"\n      ,double \"NINQ_\"\n      ,varchar(7) \"REASON_\"\n      ,double \"VALUE_\"\n      ,double \"YOJ_\"\n      ,in_out varchar \"EM_CLASSIFICATION\"\n      ,in_out double \"EM_EVENTPROBABILITY\"\n      ,in_out double \"EM_PROBABILITY\"\n      ,in_out varchar \"I_BAD\"\n      ,in_out double \"P_BAD0\"\n      ,in_out double \"P_BAD1\"\n);\n\n      dcl integer _filter_;\n\n          execute_internal(\n          \"BAD_\"\n         ,\"CLAGE_\"\n         ,\"CLNO_\"\n         ,\"DEBTINC_\"\n         ,\"DELINQ_\"\n         ,\"DEROG_\"\n         ,\"JOB_\"\n         ,\"LOAN_\"\n         ,\"MORTDUE_\"\n         ,\"NINQ_\"\n         ,\"REASON_\"\n         ,\"VALUE_\"\n         ,\"YOJ_\"\n         ,\"EM_CLASSIFICATION\"\n         ,\"EM_EVENTPROBABILITY\"\n         ,\"EM_PROBABILITY\"\n         ,\"I_BAD\"\n         ,\"P_BAD0\"\n         ,\"P_BAD1\"\n      ,\"_filter_\"\n      );\n\n    end;\n\n                   \n   endpackage;","properties":[{"name":"sourceURI","value":"/decisions/flows/e3857daf-b0aa-40fa-8c1c-35757c5434b3/revisions/57bb7463-9975-4fe9-9efc-d2fbcbb8841c"}],"submodules":[{"name":"DecisionEPTest_QS_Tree1u32u401u41u32EP","description":"","source":"\n\nds2_options scond=none;\n                                                                                  \n                                                                                                                                                                                                                                                 \nds2_options sas tkgmac scond=none;\n package \"DecisionEPTest_QS_Tree1u32u401u41u32EP\"/overwrite=yes;\n #_local _NEW_ID_;\n #_local _NODE_ID_;\n #_local _NUMVAL_;\n #_local _DT_PRED_PROB_;\n #_local _DT_PRED_LEV_;\n #_local _I_;\n #_local _DT_PREDP_;\n dcl double EM_EVENTPROBABILITY;\n dcl char(32) EM_CLASSIFICATION;\n dcl double EM_PROBABILITY;\n method score(double \"CLAGE\", double \"CLNO\", double \"DEBTINC\", double \n\"DELINQ\", double \"DEROG\", char(14) \"JOB\", double \"NINQ\", double \"VALUE\", \nin_out char(12) \"EM_CLASSIFICATION\", in_out double \"EM_EVENTPROBABILITY\", \nin_out double \"EM_PROBABILITY\", in_out char(12) \"I_BAD\", in_out double \n\"P_BAD0\", in_out double \"P_BAD1\");\ndcl char(14) _STRFMT_;\n dcl double _DT_FI_25790823_[2];\n dcl char(12) _TLEVNAME_25790823_[2];\n _TLEVNAME_25790823_:=('           1', '           0');\n_STRFMT_ = ' ';\n_NODE_ID_ = 0.0;\n_NEW_ID_ = -1.0;\nNEXTNODE_25790823: if _NODE_ID_ = 0.0 then do ;\n_NUMVAL_ = DEBTINC;\nif MISSING(_NUMVAL_) then do ;\n_NODE_ID_ = 1.0;\ngoto NEXTNODE_25790823;\nend;\nif (_NUMVAL_ \u003e= 51.5997353989059 \u0026 _NUMVAL_ \u003c 203.312148691165) then do \n;\n_NEW_ID_ = 1.0;\nend;\n else if (_NUMVAL_ \u003e= 1.02893096815279 \u0026 _NUMVAL_ \u003c 51.5997353989059) \nthen do ;\n_NEW_ID_ = 2.0;\nend;\n else if (_NUMVAL_ \u003c 1.02893096815279) then do ;\n_NEW_ID_ = 2.0;\nend;\n else if (_NUMVAL_ \u003e= 203.312148691165) then do ;\n_NEW_ID_ = 1.0;\nend;\n else do ;\n_NEW_ID_ = 2.0;\nend;\nend;\n else if _NODE_ID_ = 1.0 then do ;\n_STRFMT_ = LEFT(TRIM(put(NINQ, BEST12.)));\nif _STRFMT_ in ('4', '7', '1', '0', '3', '2', '.') then do ;\n_NEW_ID_ = 3.0;\nend;\n else if _STRFMT_ in ('11', '10', '5', '6', '9', '8') then do ;\n_NEW_ID_ = 4.0;\nend;\n else do ;\n_NEW_ID_ = 3.0;\nend;\nend;\n else if _NODE_ID_ = 2.0 then do ;\n_STRFMT_ = LEFT(TRIM(put(DELINQ, BEST12.)));\nif _STRFMT_ in ('5', '4', '1', '0', '3', '2', '.') then do ;\n_NEW_ID_ = 5.0;\nend;\n else if _STRFMT_ in ('7', '6', '8') then do ;\n_NEW_ID_ = 6.0;\nend;\n else do ;\n_NEW_ID_ = 5.0;\nend;\nend;\n else if _NODE_ID_ = 3.0 then do ;\n_NUMVAL_ = DEBTINC;\nif MISSING(_NUMVAL_) then do ;\n_NODE_ID_ = 8.0;\ngoto NEXTNODE_25790823;\nend;\nif (_NUMVAL_ \u003e= 11.1430918543034 \u0026 _NUMVAL_ \u003c 203.312148691165) then do \n;\n_NEW_ID_ = 7.0;\nend;\n else if (_NUMVAL_ \u003e= 1.02893096815279 \u0026 _NUMVAL_ \u003c 11.1430918543034) \nthen do ;\n_NEW_ID_ = 8.0;\nend;\n else if (_NUMVAL_ \u003c 1.02893096815279) then do ;\n_NEW_ID_ = 8.0;\nend;\n else if (_NUMVAL_ \u003e= 203.312148691165) then do ;\n_NEW_ID_ = 7.0;\nend;\n else do ;\n_NEW_ID_ = 8.0;\nend;\nend;\n else if _NODE_ID_ = 4.0 then do ;\n_LEAF_ID_ = 4.0;\n_NEW_ID_ = -1.0;\n_DT_PRED_LEV_ = 0.0;\n_DT_PRED_PROB_ = 1.0;\n_DT_FI_25790823_[1.0] = 1.0;\n_DT_FI_25790823_[2.0] = 0.0;\nend;\n else if _NODE_ID_ = 5.0 then do ;\n_NUMVAL_ = VALUE;\nif MISSING(_NUMVAL_) then do ;\n_NODE_ID_ = 9.0;\ngoto NEXTNODE_25790823;\nend;\nif (_NUMVAL_ \u003e= 473722.7 \u0026 _NUMVAL_ \u003c 854114.0) then do ;\n_NEW_ID_ = 9.0;\nend;\n else if (_NUMVAL_ \u003e= 8800.0 \u0026 _NUMVAL_ \u003c 473722.7) then do ;\n_NEW_ID_ = 10.0;\nend;\n else if (_NUMVAL_ \u003c 8800.0) then do ;\n_NEW_ID_ = 10.0;\nend;\n else if (_NUMVAL_ \u003e= 854114.0) then do ;\n_NEW_ID_ = 9.0;\nend;\n else do ;\n_NEW_ID_ = 10.0;\nend;\nend;\n else if _NODE_ID_ = 6.0 then do ;\n_LEAF_ID_ = 6.0;\n_NEW_ID_ = -1.0;\n_DT_PRED_LEV_ = 0.0;\n_DT_PRED_PROB_ = 1.0;\n_DT_FI_25790823_[1.0] = 1.0;\n_DT_FI_25790823_[2.0] = 0.0;\nend;\n else if _NODE_ID_ = 7.0 then do ;\n_LEAF_ID_ = 7.0;\n_NEW_ID_ = -1.0;\n_DT_PRED_LEV_ = 0.0;\n_DT_PRED_PROB_ = 1.0;\n_DT_FI_25790823_[1.0] = 1.0;\n_DT_FI_25790823_[2.0] = 0.0;\nend;\n else if _NODE_ID_ = 8.0 then do ;\n_STRFMT_ = LEFT(TRIM(put(DEROG, BEST12.)));\nif _STRFMT_ in ('5', '4', '7', '6', '9', '8') then do ;\n_NEW_ID_ = 11.0;\nend;\n else if _STRFMT_ in ('1', '0', '3', '2', '.') then do ;\n_NEW_ID_ = 12.0;\nend;\n else do ;\n_NEW_ID_ = 12.0;\nend;\nend;\n else if _NODE_ID_ = 9.0 then do ;\n_STRFMT_ = LEFT(TRIM(put(JOB, $14.)));\nif _STRFMT_ in ('Other', 'Mgr', 'Office') then do ;\n_NEW_ID_ = 13.0;\nend;\n else if _STRFMT_ in ('ProfExe', '') then do ;\n_NEW_ID_ = 14.0;\nend;\n else do ;\n_NEW_ID_ = 13.0;\nend;\nend;\n else if _NODE_ID_ = 10.0 then do ;\n_STRFMT_ = LEFT(TRIM(put(DEROG, BEST12.)));\nif _STRFMT_ in ('5', '6', '1', '0', '3', '2', '.') then do ;\n_NEW_ID_ = 15.0;\nend;\n else if _STRFMT_ in ('4', '7', '9') then do ;\n_NEW_ID_ = 16.0;\nend;\n else do ;\n_NEW_ID_ = 15.0;\nend;\nend;\n else if _NODE_ID_ = 11.0 then do ;\n_LEAF_ID_ = 11.0;\n_NEW_ID_ = -1.0;\n_DT_PRED_LEV_ = 0.0;\n_DT_PRED_PROB_ = 1.0;\n_DT_FI_25790823_[1.0] = 1.0;\n_DT_FI_25790823_[2.0] = 0.0;\nend;\n else if _NODE_ID_ = 12.0 then do ;\n_NUMVAL_ = VALUE;\nif MISSING(_NUMVAL_) then do ;\n_NODE_ID_ = 17.0;\ngoto NEXTNODE_25790823;\nend;\nif (_NUMVAL_ \u003e= 304659.9 \u0026 _NUMVAL_ \u003c 854114.0) then do ;\n_NEW_ID_ = 17.0;\nend;\n else if (_NUMVAL_ \u003e= 8800.0 \u0026 _NUMVAL_ \u003c 304659.9) then do ;\n_NEW_ID_ = 18.0;\nend;\n else if (_NUMVAL_ \u003c 8800.0) then do ;\n_NEW_ID_ = 18.0;\nend;\n else if (_NUMVAL_ \u003e= 854114.0) then do ;\n_NEW_ID_ = 17.0;\nend;\n else do ;\n_NEW_ID_ = 18.0;\nend;\nend;\n else if _NODE_ID_ = 13.0 then do ;\n_LEAF_ID_ = 13.0;\n_NEW_ID_ = -1.0;\n_DT_PRED_LEV_ = 0.0;\n_DT_PRED_PROB_ = 1.0;\n_DT_FI_25790823_[1.0] = 1.0;\n_DT_FI_25790823_[2.0] = 0.0;\nend;\n else if _NODE_ID_ = 14.0 then do ;\n_LEAF_ID_ = 14.0;\n_NEW_ID_ = -1.0;\n_DT_PRED_LEV_ = 1.0;\n_DT_PRED_PROB_ = 0.6;\n_DT_FI_25790823_[1.0] = 0.4;\n_DT_FI_25790823_[2.0] = 0.6;\nend;\n else if _NODE_ID_ = 15.0 then do ;\n_LEAF_ID_ = 15.0;\n_NEW_ID_ = -1.0;\n_DT_PRED_LEV_ = 1.0;\n_DT_PRED_PROB_ = 0.93716012084592;\n_DT_FI_25790823_[1.0] = 0.06283987915407;\n_DT_FI_25790823_[2.0] = 0.93716012084592;\nend;\n else if _NODE_ID_ = 16.0 then do ;\n_LEAF_ID_ = 16.0;\n_NEW_ID_ = -1.0;\n_DT_PRED_LEV_ = 0.0;\n_DT_PRED_PROB_ = 0.6;\n_DT_FI_25790823_[1.0] = 0.6;\n_DT_FI_25790823_[2.0] = 0.4;\nend;\n else if _NODE_ID_ = 17.0 then do ;\n_LEAF_ID_ = 17.0;\n_NEW_ID_ = -1.0;\n_DT_PRED_LEV_ = 0.0;\n_DT_PRED_PROB_ = 0.96969696969696;\n_DT_FI_25790823_[1.0] = 0.96969696969696;\n_DT_FI_25790823_[2.0] = 0.03030303030303;\nend;\n else if _NODE_ID_ = 18.0 then do ;\n_STRFMT_ = LEFT(TRIM(put(DELINQ, BEST12.)));\nif _STRFMT_ in ('5', '4', '1', '0', '3', '2', '.') then do ;\n_NEW_ID_ = 19.0;\nend;\n else if _STRFMT_ in ('11', '15', '7', '6') then do ;\n_NEW_ID_ = 20.0;\nend;\n else do ;\n_NEW_ID_ = 19.0;\nend;\nend;\n else if _NODE_ID_ = 19.0 then do ;\n_STRFMT_ = LEFT(TRIM(put(JOB, $14.)));\nif _STRFMT_ in ('Self', 'ProfExe', 'Other', 'Mgr', 'Sales', 'Office') \nthen do ;\n_NEW_ID_ = 21.0;\nend;\n else if _STRFMT_ in ('') then do ;\n_NEW_ID_ = 22.0;\nend;\n else do ;\n_NEW_ID_ = 21.0;\nend;\nend;\n else if _NODE_ID_ = 20.0 then do ;\n_LEAF_ID_ = 20.0;\n_NEW_ID_ = -1.0;\n_DT_PRED_LEV_ = 0.0;\n_DT_PRED_PROB_ = 1.0;\n_DT_FI_25790823_[1.0] = 1.0;\n_DT_FI_25790823_[2.0] = 0.0;\nend;\n else if _NODE_ID_ = 21.0 then do ;\n_NUMVAL_ = CLNO;\nif MISSING(_NUMVAL_) then do ;\n_NODE_ID_ = 23.0;\ngoto NEXTNODE_25790823;\nend;\nif (_NUMVAL_ \u003e= 58.5 \u0026 _NUMVAL_ \u003c 65.0) then do ;\n_NEW_ID_ = 23.0;\nend;\n else if (_NUMVAL_ \u003e= 0.0 \u0026 _NUMVAL_ \u003c 58.5) then do ;\n_NEW_ID_ = 24.0;\nend;\n else if (_NUMVAL_ \u003c 0.0) then do ;\n_NEW_ID_ = 24.0;\nend;\n else if (_NUMVAL_ \u003e= 65.0) then do ;\n_NEW_ID_ = 23.0;\nend;\n else do ;\n_NEW_ID_ = 24.0;\nend;\nend;\n else if _NODE_ID_ = 22.0 then do ;\n_LEAF_ID_ = 22.0;\n_NEW_ID_ = -1.0;\n_DT_PRED_LEV_ = 1.0;\n_DT_PRED_PROB_ = 0.85714285714285;\n_DT_FI_25790823_[1.0] = 0.14285714285714;\n_DT_FI_25790823_[2.0] = 0.85714285714285;\nend;\n else if _NODE_ID_ = 23.0 then do ;\n_LEAF_ID_ = 23.0;\n_NEW_ID_ = -1.0;\n_DT_PRED_LEV_ = 0.0;\n_DT_PRED_PROB_ = 1.0;\n_DT_FI_25790823_[1.0] = 1.0;\n_DT_FI_25790823_[2.0] = 0.0;\nend;\n else if _NODE_ID_ = 24.0 then do ;\n_NUMVAL_ = CLNO;\nif MISSING(_NUMVAL_) then do ;\n_NUMVAL_ = -1.7976931348623E308;\nend;\nif (_NUMVAL_ \u003e= 3.25 \u0026 _NUMVAL_ \u003c 65.0) then do ;\n_NEW_ID_ = 25.0;\nend;\n else if (_NUMVAL_ \u003e= 0.0 \u0026 _NUMVAL_ \u003c 3.25) then do ;\n_NEW_ID_ = 26.0;\nend;\n else if (_NUMVAL_ \u003c 0.0) then do ;\n_NEW_ID_ = 26.0;\nend;\n else if (_NUMVAL_ \u003e= 65.0) then do ;\n_NEW_ID_ = 25.0;\nend;\n else do ;\n_NEW_ID_ = 25.0;\nend;\nend;\n else if _NODE_ID_ = 25.0 then do ;\n_NUMVAL_ = CLAGE;\nif MISSING(_NUMVAL_) then do ;\n_NUMVAL_ = -1.7976931348623E308;\nend;\nif (_NUMVAL_ \u003e= 97.4620656564614 \u0026 _NUMVAL_ \u003c 649.747104376409) then do \n;\n_NEW_ID_ = 27.0;\nend;\n else if (_NUMVAL_ \u003e= 0.0 \u0026 _NUMVAL_ \u003c 97.4620656564614) then do ;\n_NEW_ID_ = 28.0;\nend;\n else if (_NUMVAL_ \u003c 0.0) then do ;\n_NEW_ID_ = 28.0;\nend;\n else if (_NUMVAL_ \u003e= 649.747104376409) then do ;\n_NEW_ID_ = 27.0;\nend;\n else do ;\n_NEW_ID_ = 27.0;\nend;\nend;\n else if _NODE_ID_ = 26.0 then do ;\n_LEAF_ID_ = 26.0;\n_NEW_ID_ = -1.0;\n_DT_PRED_LEV_ = 0.0;\n_DT_PRED_PROB_ = 0.9375;\n_DT_FI_25790823_[1.0] = 0.9375;\n_DT_FI_25790823_[2.0] = 0.0625;\nend;\n else if _NODE_ID_ = 27.0 then do ;\n_LEAF_ID_ = 27.0;\n_NEW_ID_ = -1.0;\n_DT_PRED_LEV_ = 1.0;\n_DT_PRED_PROB_ = 0.54251012145749;\n_DT_FI_25790823_[1.0] = 0.45748987854251;\n_DT_FI_25790823_[2.0] = 0.54251012145749;\nend;\n else if _NODE_ID_ = 28.0 then do ;\n_LEAF_ID_ = 28.0;\n_NEW_ID_ = -1.0;\n_DT_PRED_LEV_ = 0.0;\n_DT_PRED_PROB_ = 0.79729729729729;\n_DT_FI_25790823_[1.0] = 0.79729729729729;\n_DT_FI_25790823_[2.0] = 0.2027027027027;\nend;\nif _NEW_ID_ \u003e= 0.0 then do ;\n_NODE_ID_ = _NEW_ID_;\ngoto NEXTNODE_25790823;\nend;\nI_BAD = _TLEVNAME_25790823_[_DT_PRED_LEV_ + 1.0];\n_I_ = 1.0;\n_DT_PREDP_ = _DT_FI_25790823_[_I_];\nP_BAD1 = _DT_PREDP_;\n_I_ + 1.0;\n_DT_PREDP_ = _DT_FI_25790823_[_I_];\nP_BAD0 = _DT_PREDP_;\n_I_ + 1.0;\nEM_EVENTPROBABILITY = \"P_BAD1\";\nEM_CLASSIFICATION = \"I_BAD\";\nEM_PROBABILITY = MAX(\"P_BAD0\", \"P_BAD1\");\n_return: ;\nend;\n                                                            \n endpackage;","attributes":{"keyValue":""},"language":"DS2"}]}